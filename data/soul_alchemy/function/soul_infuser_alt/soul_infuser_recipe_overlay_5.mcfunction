execute unless items block ~ ~ ~ container.0 * run return run item replace block ~ ~ ~ container.14 with air 1
execute if items block ~ ~ ~ container.13 * run return run item replace block ~ ~ ~ container.14 with air 1

execute if items block ~ ~ ~ container.0 minecraft:book[custom_data~{large_xp_hold:1b},count~{min:1}] if items block ~ ~ ~ container.1 minecraft:enchanted_book[stored_enchantments~[{enchantments:"minecraft:silk_touch",levels:1}],count~{min:1}] if items block ~ ~ ~ container.9 minecraft:netherite_upgrade_smithing_template[count~{min:1}] if items block ~ ~ ~ container.10 minecraft:amethyst_cluster[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[!custom_data,!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_book",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:book[custom_data~{large_xp_hold:1b},count~{min:1}] if items block ~ ~ ~ container.1 minecraft:enchanted_book[stored_enchantments~[{enchantments:"minecraft:breach"}],count~{min:1}] if items block ~ ~ ~ container.9 minecraft:netherite_scrap[count~{min:1}] if items block ~ ~ ~ container.10 minecraft:breeze_rod[count~{min:1}] if items block ~ ~ ~ container.18 minecraft:phantom_membrane[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[!custom_data,!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_book",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:book[custom_data~{small_xp_hold:1b},count~{min:1}] if items block ~ ~ ~ container.1 minecraft:enchanted_book[stored_enchantments~[{enchantments:"minecraft:protection"}],count~{min:1}] if items block ~ ~ ~ container.9 minecraft:phantom_membrane[count~{min:2}] if items block ~ ~ ~ container.10 minecraft:slime_ball[count~{min:4}] unless items block ~ ~ ~ container.13 minecraft:book[!custom_data,!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_book",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:book[custom_data~{medium_xp_hold:1b},count~{min:1}] if items block ~ ~ ~ container.1 minecraft:enchanted_book[stored_enchantments~[{enchantments:"minecraft:protection"}],count~{min:1}] if items block ~ ~ ~ container.9 minecraft:netherite_scrap[count~{min:1}] if items block ~ ~ ~ container.10 minecraft:phantom_membrane[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[!custom_data,!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_book",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:book[custom_data~{medium_xp_hold:1b},count~{min:1}] if items block ~ ~ ~ container.1 minecraft:enchanted_book[stored_enchantments~[{enchantments:"minecraft:silk_touch",levels:1}],count~{min:1}] if items block ~ ~ ~ container.9 minecraft:echo_shard[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[!custom_data,!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_book",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:book[custom_data~{large_xp_hold:1b},count~{min:2}] if items block ~ ~ ~ container.1 minecraft:enchanted_book[stored_enchantments~[{enchantments:"minecraft:mending",levels:1},{enchantments:"minecraft:unbreaking",levels:3}],count~{min:1}] if items block ~ ~ ~ container.9 minecraft:rotten_flesh[custom_data~{soul_shard:1b},count~{min:5}] if items block ~ ~ ~ container.10 minecraft:heavy_core[count~{min:1}] if items block ~ ~ ~ container.18 minecraft:nether_star[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[!custom_data,!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_book",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1

execute if items block ~ ~ ~ container.0 minecraft:book[custom_data~{medium_xp_hold:1b},count~{min:1}] if items block ~ ~ ~ container.1 minecraft:enchanted_book[stored_enchantments~[{enchantments:"minecraft:efficiency",levels:5}],count~{min:1}] if items block ~ ~ ~ container.9 minecraft:beacon[count~{min:2}] if items block ~ ~ ~ container.10 minecraft:creeper_head[count~{min:1}] if items block ~ ~ ~ container.18 minecraft:golden_pickaxe[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:diamond[!custom_data,!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_diamond",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:book[custom_data~{large_xp_hold:1b},count~{min:1}] if items block ~ ~ ~ container.1 minecraft:enchanted_book[stored_enchantments~[{enchantments:"minecraft:feather_falling",levels:4}],count~{min:1}] if items block ~ ~ ~ container.9 minecraft:phantom_membrane[count~{min:16}] if items block ~ ~ ~ container.10 minecraft:potion[potion_contents~["slow_falling","long_slow_falling"],count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:diamond[!custom_data,!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_diamond",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:book[custom_data~{large_xp_hold:1b},count~{min:2}] if items block ~ ~ ~ container.1 minecraft:enchanted_book[stored_enchantments~[{enchantments:"minecraft:mending",levels:1}],count~{min:1}] if items block ~ ~ ~ container.9 minecraft:moss_block[count~{min:64}] if items block ~ ~ ~ container.10 minecraft:sculk_catalyst[count~{min:1}] if items block ~ ~ ~ container.18 minecraft:totem_of_undying[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:diamond[!custom_data,!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_diamond",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:book[custom_data~{medium_xp_hold:1b},count~{min:1}] if items block ~ ~ ~ container.1 minecraft:enchanted_book[stored_enchantments~[{enchantments:"minecraft:quick_charge",levels:3}],count~{min:1}] if items block ~ ~ ~ container.9 minecraft:netherite_ingot[count~{min:1}] if items block ~ ~ ~ container.10 minecraft:sculk[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:diamond[!custom_data,!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_diamond",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:book[custom_data~{medium_xp_hold:1b},count~{min:1}] if items block ~ ~ ~ container.1 minecraft:enchanted_book[stored_enchantments~[{enchantments:"minecraft:respiration",levels:3}],count~{min:1}] if items block ~ ~ ~ container.9 minecraft:conduit[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:diamond[!custom_data,!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_diamond",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:book[custom_data~{large_xp_hold:1b},count~{min:1}] if items block ~ ~ ~ container.1 minecraft:enchanted_book[stored_enchantments~[{enchantments:"minecraft:sweeping_edge",levels:3}],count~{min:1}] if items block ~ ~ ~ container.9 minecraft:dragon_breath[count~{min:1}] if items block ~ ~ ~ container.10 minecraft:end_rod[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:diamond[!custom_data,!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_diamond",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1

execute if items block ~ ~ ~ container.0 minecraft:nether_star if items block ~ ~ ~ container.1 #minecraft:fishes[count~{min:1}] if items block ~ ~ ~ container.9 minecraft:ender_eye[count~{min:1}] unless items block ~ ~ ~ container.13 #minecraft:pickaxes[!custom_data,!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_pickaxe",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1

execute if items block ~ ~ ~ container.0 minecraft:potion[count~{min:1}] if items block ~ ~ ~ container.1 minecraft:glow_ink_sac[count~{min:1}] if items block ~ ~ ~ container.9 minecraft:glowstone_dust[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[custom_data~{empty_tome:1b},!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_tome",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:golden_apple[count~{min:2}] if items block ~ ~ ~ container.1 minecraft:glow_ink_sac[count~{min:1}] if items block ~ ~ ~ container.9 minecraft:glowstone_dust[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[custom_data~{empty_tome:1b},!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_tome",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:rabbit_foot[count~{min:2}] if items block ~ ~ ~ container.1 minecraft:glow_ink_sac[count~{min:1}] if items block ~ ~ ~ container.9 minecraft:glowstone_dust[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[custom_data~{empty_tome:1b},!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_tome",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:glistering_melon_slice[count~{min:4}] if items block ~ ~ ~ container.1 minecraft:glow_ink_sac[count~{min:1}] if items block ~ ~ ~ container.9 minecraft:glowstone_dust[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[custom_data~{empty_tome:1b},!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_tome",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:stone_slab[count~{min:1}] if items block ~ ~ ~ container.1 minecraft:glow_ink_sac[count~{min:1}] if items block ~ ~ ~ container.9 minecraft:glowstone_dust[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[custom_data~{empty_tome:1b},!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_tome",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:spyglass[count~{min:1}] if items block ~ ~ ~ container.1 minecraft:glow_ink_sac[count~{min:1}] if items block ~ ~ ~ container.9 minecraft:glowstone_dust[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[custom_data~{empty_tome:1b},!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_tome",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:iron_ingot[count~{min:4}] if items block ~ ~ ~ container.1 minecraft:glow_ink_sac[count~{min:1}] if items block ~ ~ ~ container.9 minecraft:glowstone_dust[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[custom_data~{empty_tome:1b},!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_tome",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:nautilus_shell[count~{min:1}] if items block ~ ~ ~ container.1 minecraft:glow_ink_sac[count~{min:1}] if items block ~ ~ ~ container.9 minecraft:glowstone_dust[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[custom_data~{empty_tome:1b},!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_tome",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 #soul_alchemy:tome_weapon[count~{min:1}] if items block ~ ~ ~ container.1 minecraft:glow_ink_sac[count~{min:1}] if items block ~ ~ ~ container.9 minecraft:glowstone_dust[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[custom_data~{empty_tome:1b},!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_tome",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:totem_of_undying[count~{min:1}] if items block ~ ~ ~ container.1 minecraft:glow_ink_sac[count~{min:1}] if items block ~ ~ ~ container.9 minecraft:glowstone_dust[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[custom_data~{empty_tome:1b},!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_tome",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:piston[count~{min:4}] if items block ~ ~ ~ container.1 minecraft:breeze_rod[count~{min:1}] if items block ~ ~ ~ container.9 minecraft:blaze_rod[count~{min:1}] if items block ~ ~ ~ container.10 minecraft:glow_ink_sac[count~{min:1}] if items block ~ ~ ~ container.18 minecraft:glowstone_dust[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[custom_data~{empty_tome:1b},!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_tome",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:sugar[count~{min:4}] if items block ~ ~ ~ container.1 minecraft:glow_ink_sac[count~{min:1}] if items block ~ ~ ~ container.9 minecraft:glowstone_dust[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[custom_data~{empty_tome:1b},!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_tome",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:netherite_scrap[count~{min:2}] if items block ~ ~ ~ container.1 minecraft:glow_ink_sac[count~{min:1}] if items block ~ ~ ~ container.9 minecraft:glowstone_dust[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[custom_data~{empty_tome:1b},!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_tome",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:turtle_helmet[count~{min:1}] if items block ~ ~ ~ container.1 minecraft:glow_ink_sac[count~{min:1}] if items block ~ ~ ~ container.9 minecraft:glowstone_dust[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[custom_data~{empty_tome:1b},!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_tome",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1
execute if items block ~ ~ ~ container.0 minecraft:diamond[count~{min:3}] if items block ~ ~ ~ container.1 minecraft:glow_ink_sac[count~{min:1}] if items block ~ ~ ~ container.9 minecraft:glowstone_dust[count~{min:1}] unless items block ~ ~ ~ container.13 minecraft:book[custom_data~{empty_tome:1b},!stored_enchantments,count=1] run return run item replace block ~ ~ ~ container.14 with minecraft:stick[item_model="soul_alchemy:slot_double_tome",hide_additional_tooltip={},custom_data={not_an_item:1b}] 1

item replace block ~ ~ ~ container.14 with air 1